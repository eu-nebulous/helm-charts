# Defines a Secret resource that is used for storing Docker registry credentials
apiVersion: v1
kind: Secret
metadata:
  namespace: {{ .Values.namespace }}
  name: regcred
# Specifies the type of the Secret. Here, it's set to kubernetes.io/dockerconfigjson, which indicates that the secret will hold Docker registry credentials in JSON format
type: kubernetes.io/dockerconfigjson
# Contains the actual data to be stored in the Secret. It's base64-encoded to keep the data secure
# .dockerconfigjson: This is the key under which the Docker registry configuration data will be stored
# The value is generated using a template function named imagePullSecret that is defined in _helpers.tpl file
# The imagePullSecret template function is expected to generate the appropriate Docker configuration JSON data that includes the credentials needed to pull private Docker images from a registry
# This includes fields like auth, username, password, etc.
data:
  .dockerconfigjson: {{ template "imagePullSecret" . }}